\documentclass[10pt,a4paper,oneside,ngerman,numbers=noenddot]{scrartcl}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{paralist}
\usepackage{gauss}
\usepackage{pgfplots}
\usepackage[locale=DE,exponent-product=\cdot,detect-all]{siunitx}
\usepackage{tikz}
\usetikzlibrary{automata,matrix,fadings,calc,positioning,decorations.pathreplacing,arrows,decorations.markings,petri,shapes}
\usepackage{polynom}
\usepackage{multirow}
\usepackage[german]{fancyref}
\usepackage{morefloats}
\polyset{style=C, div=:,vars=x}
\pgfplotsset{compat=1.8}
\pagenumbering{arabic}
% ensures that paragraphs are separated by empty lines
\parskip 12pt plus 1pt minus 1pt
\parindent 0pt
% define how the sections are rendered
\def\thesection{10.\arabic{section})}
\def\thesubsection{\arabic{subsection}.}
\def\thesubsubsection{(\alph{subsubsection})}
% some matrix magic
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

\tikzset{
    place/.style={
        circle,
        thick,
        draw=black,
        fill=white,
        minimum size=6mm,
        font=\bfseries
    },
    transitionH/.style={
        rectangle,
        thick,
        draw=black,
        fill=white,
        minimum width=8mm,
        inner ysep=4pt,
        font=\bfseries
    },
    transitionV/.style={
        rectangle,
        thick,
        fill=black,
        minimum height=8mm,
        inner xsep=2pt
    }
}

\renewcommand{\vec}[1]{\underline{#1}}

\begin{document}
\author{Benjamin Kuffel, Jim Martens\\Gruppe 6}
\title{Hausaufgaben zum 05. Januar}
\maketitle

\setcounter{section}{2}
\section{} %10.3
\subsection{}
Um die T-Invarianten bestimmen zu können, stellen wir zunächst die Inzidenzmatrix auf.

Inzidenzmatrix \(\Delta_N\) vom Netz \(N_{10.3}\):
\[
	\begin{vmatrix}
		-1 & -1 & 3 & 2 & -1 \\
		0 & -1 & 3 & 0 & 0 \\
		0 & 1 & -3 & 0 & 0 \\
		1 & 2 & -6 & -2 & 1
	\end{vmatrix}
\]

Eine T-Invariante \(\textbf{j}\) muss diese Gleichung erfüllen: \(\Delta_N \cdot \textbf{j} = \vec{0}\)

Daraus ergibt sich folgendes lineares Gleichungssystem:
\begin{alignat*}{7}
	\text{I} && \; -j_a &-& j_b &+& 3j_c &+& 2j_d &-& j_e &= 0 \\
	\text{II} && && -j_b &+& 3j_c && && &= 0 \\
	\text{III} && && j_b &-& 3j_c && && &= 0 \\
	\text{IV} && \; j_a &+& 2j_b &-& 6j_c &-& 2j_d &+& j_e &= 0
\end{alignat*}

Dieses Gleichungssystem kann schnell reduziert werden. Es wird \(\text{I} = \text{I} + \text{IV}\), sowie \(\text{II} = \text{II} + \text{III}\) ausgeführt.

\begin{alignat*}{7}
	\text{I} && \; 0j_a &+& j_b &-& 3j_c &+& 0j_d &+& 0j_e &= 0 \\
	\text{II} && && 0j_b &+& 0j_c && && &= 0 \\
	\text{III} && && j_b &-& 3j_c && && &= 0 \\
	\text{IV} && \; j_a &+& 2j_b &-& 6j_c &-& 2j_d &+& j_e &= 0
\end{alignat*}

Somit stellt II keine Bedingung mehr auf und I und III sind identisch. Wir verbleiben also mit III und IV. III kann so umgestellt werden: \(j_b = 3j_c\). Im Folgenden können wir also \(j_b\) durch \(3j_c\) ersetzen.

\begin{alignat*}{7}
	\text{I} && && 3j_c &-& 3j_c && && &= 0 \\
	\text{II} && && && && && 0 &= 0 \\
	\text{III} && && 3j_c &-& 3j_c && && &= 0 \\
	\text{IV} && \; j_a &+& 2(3j_c) &-& 6j_c &-& 2j_d &+& j_e &= 0
\end{alignat*}

Aus IV ergibt sich nach Auflösen und Zusammenfassen folgende Gleichung: \(j_a - 2j_d + j_e = 0\). Nach Umstellen nach \(j_d\) ergibt sich daraus \(2j_d = j_a + j_e\). Aus dieser Gleichung ergibt sich, dass die Summe von \(j_a\) und \(j_e\) eine gerade Zahl sein muss. Dies ist dann der Fall, wenn beide Summanden gerade oder ungerade sind. Wenn die Summanden gerade sind, dann muss einer der beiden 2 sein oder sie können solange durch 2 geteilt werden bis dies gilt.

Aus diesen Gleichungen ergeben sich folgende Bedingungen für die einzelnen Werte:
\begin{itemize}
	\item \(j_c\) beliebig
	\item \(j_b = 3j_c\)
	\item \(j_d\) beliebig
	\item \(0 < j_a < 2j_d\) beliebig unter dieser Bedingung
	\item \(j_e = 2j_d - j_a\)
\end{itemize}

Als Menge der T-Invarianten ergibt sich daher: \(\{(a,3c,c,d,e)^{tr} | a,c,d,e \in \mathbb{N}^+ \wedge a < 2d \wedge e = 2d -a\}\).

\subsection{}
Es sei \(\psi = (1, 3, 1, 1, 1)^{tr}\). Die Startmarkierung \(\textbf{m}_0\) sei \((3, 3, 0, 0)^{tr}\). Daraus ergibt sich die Schaltfolge \(w = b^3caed\). Mit den erreichten Zwischenmarkierungen sieht die Schaltfolge dann so aus:
\begin{alignat*}{2}
	\textbf{m}_0 &\overset{b}{\rightarrow} (2, 2, 1, 2)^{tr} \overset{b}{\rightarrow} (1, 1, 2, 4)^{tr} \overset{b}{\rightarrow} (0, 0, 3, 6)^{tr} \overset{c}{\rightarrow} (3, 3, 0, 0)^{tr} \overset{a}{\rightarrow} (2, 3, 0, 1)^{tr} \\
	&\overset{e}{\rightarrow} (1, 3, 0, 2)^{tr} \overset{d}{\rightarrow} (3, 3, 0, 0)^{tr}
\end{alignat*}
\section{} %10.4
\subsection{}
Es ist zu zeigen, dass ein in der Startmarkierung unmarkierter Siphon, dies auch in allen von der Startmarkierung aus erreichbaren Markierungen bleibt.

Als Grundlage wird die zugehörige Definition 7.45 herangezogen. Jede Transition die Marken in den Syphon hineinlegt, benötigt Marken aus dem Syphon. Ist ein solcher Syphon nun unmarkiert, dann hat er keine Marken. Daher kann auch keine Transition schalten, die Marken in den Syphon legen würde. Demzufolge muss ein unmarkierter Syphon für immer unmarkiert bleiben. Daraus folgt, dass ein in der Startmarkierung unmarkierter Syphon auch in allen erreichbaren Markierungen unmarkiert bleibt.

\subsection{}
Im Folgenden sind zwei Siphons des gegebenen Netzes gelistet:
\begin{itemize}
	\item p4
	\item p4, p5
\end{itemize}

Die Fallen sind nachfolgend gelistet:
\begin{itemize}
	\item p2, p3
	\item p1, p2, p3
	\item p1, p3, p5
	\item p2, p3, p4
	\item p2, p3, p5
	\item p1, p2, p3, p4
	\item p1, p2, p3, p5	
	\item p1, p3, p4, p5
	\item p2, p3, p4, p5
	\item p1, p2, p3, p4, p5
\end{itemize}

\subsection{}
Es sei \(\textbf{m}_0 = (0, 1, 1, 1, 0)^{tr}\) die Startmarkierung. Es ergeben sich folgende Schaltfolgen zur Aktivierung der jeweiligen Transitionen:
\[
	\sigma_a = d, \sigma_b = da, \sigma_c = da, \sigma_d = \epsilon, \sigma_e = da
\]
\section{} %10.5
\begin{tikzpicture}[node distance=1cm]
	\node[place] (sleep) {};
	\node[transition] (sleepT) [below=2 of sleep,align=left] {\((x="k1" \wedge y="b1" \wedge z_1="p1" \wedge z_2="p2") \vee\) \\ 
		\((x="k2" \wedge y="b2" \wedge z_1="p2" \wedge z_2="p3") \vee\) \\
		\((x="k3" \wedge y="b3" \wedge z_1="p3" \wedge z_2="p1")\)};
	\node[place] (beds) [below=of sleepT,align=left] {"b1"\\ "b2"\\ "b3"\ };
	\node[transition] (eatT) [right=2 of beds,align=left] {\((x="k1" \wedge y="b1") \vee \) \\
	\((x="k2" \wedge y="b2") \vee \) \\
	\((x="k3" \wedge y="b3")\)};
	\node[place] (eat) [below=of beds,align=left] {"k1"\\ "k2"\\ "k3"\ };
	\node[place] (puppets) [below=of eat,align=left] {"p1"\\ "p2"\\ "p3"\ };
	\node[transition] (playT) [right=2 of puppets,align=left] {\((x="k1" \wedge y="p1" \wedge z="p2") \vee \)\\
		\((x="k2" \wedge y="p2" \wedge z="p3") \vee \) \\
		\((x="k3" \wedge y="p3" \wedge z="p1")\)};
	\node[place] (play) [below=2 of puppets] {};
	\path[->] (sleepT) edge node[right] {x} (sleep)
		(beds) edge node[right] {y} (sleepT)
		(eatT) edge[bend left=5] node[below right] {x} (eat)
		(sleep) edge[bend left] node[above right] {x} (eatT)
		(eatT) edge node[above] {y} (beds)
		(eat) edge[bend left] node[above right] {x} (playT)
		(playT) edge[bend left] node[below right] {x} (play)
		(puppets) edge[bend left] node[above] {y} (playT)
		(puppets) edge[bend right] node[below] {z} (playT)
		(sleepT) edge[bend right=75] node[right] {\(z_1\)} (puppets)
		(sleepT) edge[bend right=80] node[right] {\(z_2\)} (puppets)
		(play) edge[bend left=85] node[left] {x} (sleepT);
	
\end{tikzpicture}

\end{document}
